# Netscape Cookie File Handler
[![Build Status](https://travis-ci.org/kegi/netscape-cookie-file-handler.svg?branch=master)](https://travis-ci.org/kegi/netscape-cookie-file-handler)
[![StyleCI](https://styleci.io/repos/51558850/shield)](https://styleci.io/repos/51558850)
[![Code Climate](https://codeclimate.com/github/kegi/netscape-cookie-file-handler/badges/gpa.svg)](https://codeclimate.com/github/kegi/netscape-cookie-file-handler)
[![Issue Count](https://codeclimate.com/github/kegi/netscape-cookie-file-handler/badges/issue_count.svg)](https://codeclimate.com/github/kegi/netscape-cookie-file-handler)
[![Test Coverage](https://codeclimate.com/github/kegi/netscape-cookie-file-handler/badges/coverage.svg)](https://codeclimate.com/github/kegi/netscape-cookie-file-handler/coverage)

This library allow you to manipulate netscape cookie file (eg. cookies generated by CURL).

##Cookies File
Some tool are using this file format to store cookies. Curl, by example, allows you to select a file (called the cookie jar) to save and read the cookies. This library will help you to manipulate and read those cookies between the requests.

##Installation
This library is available on packagist (**Composer**)
```
composer require kegi/netscape-cookie-file-handler
```

##Example
```php
/*Open and parse the cookie file*/

$configuration = (new Configuration())->setCookieDir('cookies/');
$cookieJar = (new CookieFileHandler($configuration))->parseFile('my_cookie_file');

/*Add (and save) a cookie*/

$cookieJar->add(
    (new Cookie())
        ->setHttpOnly(true)
        ->setPath('/foo')
        ->setSecure(true)
        ->setExpire(new DateTime('2020-02-20 20:20:02'))
        ->setName('foo')
        ->setValue('bar')
);
```

##Configuration
For now, the configurations are pretty easy, there is only one parameter.

###cookieDir
This is where the library will look for cookies. Note that this parameter is mandatory if you want to manipulate file.
```
$configuration = new Configuration();
$configuration->getCookieDir(); //return cookie directory
$configuration->setCookieDir('cookies/');
```

##cookie entity
All cookies are hold inside a cookie object and implement "**CookieInterface**".
| Parameter | Default | Description                                                             |
|-----------|---------|-------------------------------------------------------------------------|
| domain    | NULL    | Domain where the cookie is active                                       |
| httpOnly  | false   | If set to true, the cookie will only be enabled for http requests       |
| path      | /       | Inside the domain, this cookie will only be available for this path     |
| secure    | false   | If enable, this cookie will only be active with HTTPS requests          |
| expire    | NULL    | Expiration of the cookie. DateTime object or NULL if no expiration date |
| name      |         | Name of the cookie                                                      |
| value     |         | Value of the cookie                                                     |

###setDomain
CookieInterface **setDomain**( string $domain = null )
*Set the Domain*

###getDomain
mixed **getDomain**()
*Return string or null*

###setHttpOnly

###isHttpOnly

###setPath
###getPath

###setSecure
###isSecure

###setExpire
###getExpire

###setName
###getName

###setValue
###getValue
```
$cookie = new Cookie();

$cookie->getDomain();
$cookie->setDomain();

$cookie->getDomain();
$cookie->setDomain();
```

